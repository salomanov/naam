const v={Android:function(){return navigator.userAgent.match(/Android/i)},BlackBerry:function(){return navigator.userAgent.match(/BlackBerry/i)},iOS:function(){return navigator.userAgent.match(/iPhone|iPad|iPod/i)},Opera:function(){return navigator.userAgent.match(/Opera Mini/i)},Windows:function(){return navigator.userAgent.match(/IEMobile/i)},any:function(){return v.Android()||v.BlackBerry()||v.iOS()||v.Opera()||v.Windows()}};let w=(e,t=500,s=0)=>{e.classList.contains("--slide")||(e.classList.add("--slide"),e.style.transitionProperty="height, margin, padding",e.style.transitionDuration=t+"ms",e.style.height=`${e.offsetHeight}px`,e.offsetHeight,e.style.overflow="hidden",e.style.height=s?`${s}px`:"0px",e.style.paddingTop=0,e.style.paddingBottom=0,e.style.marginTop=0,e.style.marginBottom=0,window.setTimeout(()=>{e.hidden=!s,s||e.style.removeProperty("height"),e.style.removeProperty("padding-top"),e.style.removeProperty("padding-bottom"),e.style.removeProperty("margin-top"),e.style.removeProperty("margin-bottom"),s||e.style.removeProperty("overflow"),e.style.removeProperty("transition-duration"),e.style.removeProperty("transition-property"),e.classList.remove("--slide"),document.dispatchEvent(new CustomEvent("slideUpDone",{detail:{target:e}}))},t))},T=(e,t=500,s=0)=>{if(!e.classList.contains("--slide")){e.classList.add("--slide"),e.hidden=e.hidden?!1:null,s&&e.style.removeProperty("height");let o=e.offsetHeight;e.style.overflow="hidden",e.style.height=s?`${s}px`:"0px",e.style.paddingTop=0,e.style.paddingBottom=0,e.style.marginTop=0,e.style.marginBottom=0,e.offsetHeight,e.style.transitionProperty="height, margin, padding",e.style.transitionDuration=t+"ms",e.style.height=o+"px",e.style.removeProperty("padding-top"),e.style.removeProperty("padding-bottom"),e.style.removeProperty("margin-top"),e.style.removeProperty("margin-bottom"),window.setTimeout(()=>{e.style.removeProperty("height"),e.style.removeProperty("overflow"),e.style.removeProperty("transition-duration"),e.style.removeProperty("transition-property"),e.classList.remove("--slide"),document.dispatchEvent(new CustomEvent("slideDownDone",{detail:{target:e}}))},t)}},_=(e,t=500)=>e.hidden?T(e,t):w(e,t),b=!0,C=(e=500)=>{document.documentElement.hasAttribute("data-fls-scrolllock")?E(e):L(e)},E=(e=500)=>{if(b){const t=document.querySelectorAll("[data-fls-lp]");setTimeout(()=>{t.forEach(s=>{s.style.paddingRight=""}),document.body.style.paddingRight="",document.documentElement.removeAttribute("data-fls-scrolllock")},e),b=!1,setTimeout(function(){b=!0},e)}},L=(e=500)=>{if(b){const t=document.querySelectorAll("[data-fls-lp]"),s=window.innerWidth-document.body.offsetWidth+"px";t.forEach(o=>{o.style.paddingRight=s}),document.body.style.paddingRight=s,document.documentElement.setAttribute("data-fls-scrolllock",""),b=!1,setTimeout(function(){b=!0},e)}};function q(e,t){const s=Array.from(e).filter(l=>l.dataset[t]).map(l=>{const[h,c="max"]=l.dataset[t].split(",");return{value:h,type:c,item:l}});if(s.length===0)return[];const o=s.map(({value:l,type:h})=>`(${h}-width: ${l}px),${l},${h}`);return[...new Set(o)].map(l=>{const[h,c,f]=l.split(","),u=window.matchMedia(h);return{itemsArray:s.filter(n=>n.value===c&&n.type===f),matchMedia:u}})}function x(){const e=document.querySelectorAll("[data-fls-spollers]");if(e.length>0){let c=function(n,d=!1){n.forEach(i=>{i=d?i.item:i,d.matches||!d?(i.classList.add("--spoller-init"),f(i)):(i.classList.remove("--spoller-init"),f(i,!1))})},f=function(n,d=!0){let i=n.querySelectorAll("details");i.length&&i.forEach(a=>{let r=a.querySelector("summary");d?(r.removeAttribute("tabindex"),a.hasAttribute("data-fls-spollers-open")?(r.classList.add("--spoller-active"),a.open=!0):(a.open=!1,r.nextElementSibling.hidden=!0)):(r.setAttribute("tabindex","-1"),r.classList.remove("--spoller-active"),a.open=!0,r.nextElementSibling.hidden=!1)})},u=function(n){const d=n.target;if(d.closest("summary")&&d.closest("[data-fls-spollers]")&&(n.preventDefault(),d.closest("[data-fls-spollers]").classList.contains("--spoller-init"))){const i=d.closest("summary"),a=i.closest("details"),r=i.closest("[data-fls-spollers]"),y=r.hasAttribute("data-fls-spollers-one"),g=a.hasAttribute("data-fls-spollers-scroll"),A=r.dataset.flsSpollersSpeed?parseInt(r.dataset.flsSpollersSpeed):500;if(!r.querySelectorAll(".--slide").length&&(y&&!a.open&&m(r),a.open?setTimeout(()=>{a.open=!1},A):a.open=!0,i.classList.toggle("--spoller-active"),_(i.nextElementSibling,A),g&&i.classList.contains("--spoller-active"))){const S=a.dataset.flsSpollersScroll,O=+S?+S:0,P=a.hasAttribute("data-fls-spollers-scroll-noheader")?document.querySelector(".header").offsetHeight:0;window.scrollTo({top:a.offsetTop-(O+P),behavior:"smooth"})}}if(!d.closest("[data-fls-spollers]")){const i=document.querySelectorAll("[data-fls-spollers-close]");i.length&&i.forEach(a=>{const r=a.closest("[data-fls-spollers]"),y=a.parentNode;if(r.classList.contains("--spoller-init")){const g=r.dataset.flsSpollersSpeed?parseInt(r.dataset.flsSpollersSpeed):500;a.classList.remove("--spoller-active"),w(a.nextElementSibling,g),setTimeout(()=>{y.open=!1},g)}})}},m=function(n){const d=n.querySelector("details[open]");if(d&&!n.querySelectorAll(".--slide").length){const i=d.querySelector("summary"),a=n.dataset.flsSpollersSpeed?parseInt(n.dataset.flsSpollersSpeed):500;i.classList.remove("--spoller-active"),w(i.nextElementSibling,a),setTimeout(()=>{d.open=!1},a)}};var t=c,s=f,o=u,p=m;document.addEventListener("click",u);const l=Array.from(e).filter(function(n,d,i){return!n.dataset.flsSpollers.split(",")[0]});l.length&&c(l);let h=q(e,"flsSpollers");h&&h.length&&h.forEach(n=>{n.matchMedia.addEventListener("change",function(){c(n.itemsArray,n.matchMedia)}),c(n.itemsArray,n.matchMedia)})}}window.addEventListener("load",x);class ${constructor(t){let s={logging:!0,init:!0,attributeOpenButton:"data-fls-popup-link",attributeCloseButton:"data-fls-popup-close",fixElementSelector:"[data-fls-lp]",attributeMain:"data-fls-popup",youtubeAttribute:"data-fls-popup-youtube",youtubePlaceAttribute:"data-fls-popup-youtube-place",setAutoplayYoutube:!0,classes:{popup:"popup",popupContent:"data-fls-popup-body",popupActive:"data-fls-popup-active",bodyActive:"data-fls-popup-open"},focusCatch:!0,closeEsc:!0,bodyLock:!0,hashSettings:{location:!0,goHash:!0},on:{beforeOpen:function(){},afterOpen:function(){},beforeClose:function(){},afterClose:function(){}}};this.youTubeCode,this.isOpen=!1,this.targetOpen={selector:!1,element:!1},this.previousOpen={selector:!1,element:!1},this.lastClosed={selector:!1,element:!1},this._dataValue=!1,this.hash=!1,this._reopen=!1,this._selectorOpen=!1,this.lastFocusEl=!1,this._focusEl=["a[href]",'input:not([disabled]):not([type="hidden"]):not([aria-hidden])',"button:not([disabled]):not([aria-hidden])","select:not([disabled]):not([aria-hidden])","textarea:not([disabled]):not([aria-hidden])","area[href]","iframe","object","embed","[contenteditable]",'[tabindex]:not([tabindex^="-"])'],this.options={...s,...t,classes:{...s.classes,...t?.classes},hashSettings:{...s.hashSettings,...t?.hashSettings},on:{...s.on,...t?.on}},this.bodyLock=!1,this.options.init&&this.initPopups()}initPopups(){this.buildPopup(),this.eventsPopup()}buildPopup(){}eventsPopup(){document.addEventListener("click",(function(t){const s=t.target.closest(`[${this.options.attributeOpenButton}]`);if(s){if(t.preventDefault(),this._dataValue=s.getAttribute(this.options.attributeOpenButton)?s.getAttribute(this.options.attributeOpenButton):"error",this.youTubeCode=s.getAttribute(this.options.youtubeAttribute)?s.getAttribute(this.options.youtubeAttribute):null,this._dataValue!=="error"){this.isOpen||(this.lastFocusEl=s),this.targetOpen.selector=`${this._dataValue}`,this._selectorOpen=!0,this.open();return}return}if(t.target.closest(`[${this.options.attributeCloseButton}]`)||!t.target.closest(`[${this.options.classes.popupContent}]`)&&this.isOpen){t.preventDefault(),this.close();return}}).bind(this)),document.addEventListener("keydown",(function(t){if(this.options.closeEsc&&t.which==27&&t.code==="Escape"&&this.isOpen){t.preventDefault(),this.close();return}if(this.options.focusCatch&&t.which==9&&this.isOpen){this._focusCatch(t);return}}).bind(this)),this.options.hashSettings.goHash&&(window.addEventListener("hashchange",(function(){window.location.hash?this._openToHash():this.close(this.targetOpen.selector)}).bind(this)),window.location.hash&&this._openToHash())}open(t){if(b&&(this.bodyLock=!!(document.documentElement.hasAttribute("data-fls-scrolllock")&&!this.isOpen),t&&typeof t=="string"&&t.trim()!==""&&(this.targetOpen.selector=t,this._selectorOpen=!0),this.isOpen&&(this._reopen=!0,this.close()),this._selectorOpen||(this.targetOpen.selector=this.lastClosed.selector),this._reopen||(this.previousActiveElement=document.activeElement),this.targetOpen.element=document.querySelector(`[${this.options.attributeMain}=${this.targetOpen.selector}]`),this.targetOpen.element)){const s=this.youTubeCode||this.targetOpen.element.getAttribute(`${this.options.youtubeAttribute}`);if(s){const o=`https://www.youtube.com/embed/${s}?rel=0&showinfo=0&autoplay=1`,p=document.createElement("iframe"),l=this.options.setAutoplayYoutube?"autoplay;":"";p.setAttribute("allowfullscreen",""),p.setAttribute("allow",`${l}; encrypted-media`),p.setAttribute("src",o),this.targetOpen.element.querySelector(`[${this.options.youtubePlaceAttribute}]`)||this.targetOpen.element.querySelector("[data-fls-popup-content]").setAttribute(`${this.options.youtubePlaceAttribute}`,""),this.targetOpen.element.querySelector(`[${this.options.youtubePlaceAttribute}]`).appendChild(p)}this.options.hashSettings.location&&(this._getHash(),this._setHash()),this.options.on.beforeOpen(this),document.dispatchEvent(new CustomEvent("beforePopupOpen",{detail:{popup:this}})),this.targetOpen.element.setAttribute(this.options.classes.popupActive,""),document.documentElement.setAttribute(this.options.classes.bodyActive,""),this._reopen?this._reopen=!1:this.bodyLock||L(),this.targetOpen.element.setAttribute("aria-hidden","false"),this.previousOpen.selector=this.targetOpen.selector,this.previousOpen.element=this.targetOpen.element,this._selectorOpen=!1,this.isOpen=!0,setTimeout(()=>{this._focusTrap()},50),this.options.on.afterOpen(this),document.dispatchEvent(new CustomEvent("afterPopupOpen",{detail:{popup:this}}))}}close(t){t&&typeof t=="string"&&t.trim()!==""&&(this.previousOpen.selector=t),!(!this.isOpen||!b)&&(this.options.on.beforeClose(this),document.dispatchEvent(new CustomEvent("beforePopupClose",{detail:{popup:this}})),this.targetOpen.element.querySelector(`[${this.options.youtubePlaceAttribute}]`)&&setTimeout(()=>{this.targetOpen.element.querySelector(`[${this.options.youtubePlaceAttribute}]`).innerHTML=""},500),this.previousOpen.element.removeAttribute(this.options.classes.popupActive),this.previousOpen.element.setAttribute("aria-hidden","true"),this._reopen||(document.documentElement.removeAttribute(this.options.classes.bodyActive),this.bodyLock||E(),this.isOpen=!1),this._removeHash(),this._selectorOpen&&(this.lastClosed.selector=this.previousOpen.selector,this.lastClosed.element=this.previousOpen.element),this.options.on.afterClose(this),document.dispatchEvent(new CustomEvent("afterPopupClose",{detail:{popup:this}})),setTimeout(()=>{this._focusTrap()},50))}_getHash(){this.options.hashSettings.location&&(this.hash=`#${this.targetOpen.selector}`)}_openToHash(){let t=window.location.hash.replace("#","");const s=document.querySelector(`[${this.options.attributeOpenButton}="${t}"]`);s&&(this.youTubeCode=s.getAttribute(this.options.youtubeAttribute)?s.getAttribute(this.options.youtubeAttribute):null),t&&this.open(t)}_setHash(){history.pushState("","",this.hash)}_removeHash(){history.pushState("","",window.location.href.split("#")[0])}_focusCatch(t){const s=this.targetOpen.element.querySelectorAll(this._focusEl),o=Array.prototype.slice.call(s),p=o.indexOf(document.activeElement);t.shiftKey&&p===0&&(o[o.length-1].focus(),t.preventDefault()),!t.shiftKey&&p===o.length-1&&(o[0].focus(),t.preventDefault())}_focusTrap(){const t=this.previousOpen.element.querySelectorAll(this._focusEl);!this.isOpen&&this.lastFocusEl?this.lastFocusEl.focus():t[0].focus()}}const k=window.flsPopup?.close.bind(window.flsPopup);window.flsPopup&&(window.flsPopup.close=function(e){k(e),document.body.style.overflow="",document.documentElement.style.overflow="",document.body.style.position=""});document.querySelector("[data-fls-popup]")&&window.addEventListener("load",()=>window.flsPopup=new $({}));function H(){document.addEventListener("click",function(e){b&&e.target.closest("[data-fls-menu]")&&(C(),document.documentElement.toggleAttribute("data-fls-menu-open"))})}document.querySelector("[data-fls-menu]")&&window.addEventListener("load",H);function B(){const e=document.querySelector("[data-fls-header-scroll]"),t=e.hasAttribute("data-fls-header-scroll-show"),s=e.dataset.flsHeaderScrollShow?e.dataset.flsHeaderScrollShow:500,o=e.dataset.flsHeaderScroll?e.dataset.flsHeaderScroll:1;let p=0,l;document.addEventListener("scroll",function(h){const c=window.scrollY;clearTimeout(l),c>=o?(e.classList.contains("--header-scroll")||e.classList.add("--header-scroll"),t&&(c>p?e.classList.contains("--header-show")&&e.classList.remove("--header-show"):e.classList.contains("--header-show")||e.classList.add("--header-show"),l=setTimeout(()=>{e.classList.contains("--header-show")||e.classList.add("--header-show")},s))):(e.classList.contains("--header-scroll")&&e.classList.remove("--header-scroll"),t&&e.classList.contains("--header-show")&&e.classList.remove("--header-show")),p=c<=0?0:c})}document.querySelector("[data-fls-header-scroll]")&&window.addEventListener("load",B);class D{constructor(t){let s={init:!0,logging:!0};if(this.config=Object.assign(s,t),this.config.init){const o=document.querySelectorAll("[data-fls-beforeafter]");o.length>0?(this.setLogging(`Проснулся, вижу элементы: ${o.length}`),this.beforeAfterInit(o)):this.setLogging("Проснулся, не вижу элементов")}}beforeAfterInit(t){t.forEach(s=>{s&&(this.beforeAfterClasses(s),this.beforeAfterItemInit(s))})}beforeAfterClasses(t){t.querySelector("[data-fls-beforeafter-arrow]"),t.addEventListener("mouseover",function(s){const o=s.target;o.hasAttribute("data-fls-beforeafter-arrow")||(o.closest("[data-fls-beforeafter-before]")?(t.classList.remove("-right"),t.classList.add("-left")):(t.classList.add("-right"),t.classList.remove("-left")))}),t.addEventListener("mouseleave",function(){t.classList.remove("-left"),t.classList.remove("-right")})}beforeAfterItemInit(t){const s=t.querySelector("[data-fls-beforeafter-arrow]"),o=t.querySelector("[data-fls-beforeafter-after]"),p=parseFloat(window.getComputedStyle(s).getPropertyValue("width"));let l={};s&&(v.any()?s.addEventListener("touchstart",h):s.addEventListener("mousedown",h));function h(f){l={width:t.offsetWidth,left:t.getBoundingClientRect().left-scrollX},v.any()?(document.addEventListener("touchmove",c),document.addEventListener("touchend",function(u){document.removeEventListener("touchmove",c)},{once:!0})):(document.addEventListener("mousemove",c),document.addEventListener("mouseup",function(u){document.removeEventListener("mousemove",c)},{once:!0})),document.addEventListener("dragstart",function(u){u.preventDefault()},{once:!0})}function c(f){const u=f.type==="touchmove"?f.touches[0].clientX-l.left:f.clientX-l.left;if(u<=l.width&&u>0){const m=u/l.width*100;s.style.cssText=`left:calc(${m}% - ${p}px)`,o.style.cssText=`width: ${100-m}%`}else u>=l.width?(s.style.cssText=`left: calc(100% - ${p}px)`,o.style.cssText="width: 0%"):u<=0&&(s.style.cssText="left: 0%",o.style.cssText="width: 100%")}}setLogging(t){this.config.logging}}new D({});function M(){const e=document.querySelectorAll("img"),t=document.documentElement,s=localStorage.getItem(location.href)&&document.querySelector('[data-fls-preloader="true"]');if(e.length&&!s){let d=function(r){c&&(c.innerText=`${r}%`),f&&(f.style.width=`${r}%`)},i=function(){u++,n=Math.round(100/e.length*u);const r=setInterval(()=>{m>=n?clearInterval(r):d(++m),m>=100&&o()},10)};var p=d,l=i;document.body.insertAdjacentHTML("beforeend",`
			<div class="fls-preloader">
				<div class="fls-preloader__body">
					<div class="fls-preloader__counter">0%</div>
					<div class="fls-preloader__line"><span></span></div>
				</div>
			</div>`),document.querySelector(".fls-preloader");const c=document.querySelector(".fls-preloader__counter"),f=document.querySelector(".fls-preloader__line span");let u=0,m=0,n=0;t.setAttribute("data-fls-preloader-loading",""),t.setAttribute("data-fls-scrolllock",""),e.forEach(r=>{const y=document.createElement("img");y&&(y.onload=i,y.onerror=i,r.dataset.src?y.src=r.dataset.src:y.src=r.src)}),d(n);const a=()=>localStorage.setItem(location.href,"preloaded");document.querySelector('[data-fls-preloader="true"]')&&a()}else o();function o(){t.setAttribute("data-fls-preloader-loaded",""),t.removeAttribute("data-fls-preloader-loading"),t.removeAttribute("data-fls-scrolllock")}}document.addEventListener("DOMContentLoaded",M);
